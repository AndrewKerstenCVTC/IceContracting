<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8"> 
<head>
  <title>Summary</title>
  <link href="css/stylesheet.css" rel="stylesheet" type="text/css">
</head>
<body>
	<header>
	    <img id= "logo" src="images/ECFigureSkateLogo.png"> <span id= "Title">Eau Claire Figure Skating Club</span> 
	  	<div class= "ul">
	  	<ul id="nav">
	    	<li><a class="active" href="IceSkating.html">Home</a></li>
	    	<li><a href="skaterInfo.html">Schedule</a></li>
	    	<li><a href="contact.html">Contact</a></li>
	    	<li><a href="about.html">About</a></li>
	  	</ul>
	  </div>
	</header>
	<div id="summary-container">
		<div class=".row">
			<div class="summary-column">
				<h3>Confirm your Reservation Details:</h3>
		             <ul class="contact-form">
		                <li>
		                  <label class="block" for="fName">Full Name:</label>
		                  <input type="text" id ="fName" name="fName" class="split-input" required>
		                  <input type="text" id="lName" name="lName"  class="split-input" required>
		                </li>
		                <li>
		                  <label for="phone">Phone Number:</label>
		                  <input type="text" id="phone" name="phone" class="long-input" required>
		                </li>
		                <li>
		                  <label for="email">Your Email:</label>
		                  <input type="email" id="email" name="email" class="long-input" required>
		                </li>
		                <li>
		                  <label for="usfsaId" class="split-label">USFSA#:</label>
		                  <label for="coach" class="split-label">Coach:</label>
		                  <input type="number" id="usfsaId" name="usfsaId" class="split-input" required>
		                  <input type="text" id="coach" name="coach" class="split-input">
		                </li>
		                <li>
		                    <label>ECFSC Member: </label>
		                    <span id="right-float">
			                    <label for="clubMember" class="inline-label">Yes</label>
			                    <input type="radio" id="clubMember" name="membership" required>
			                    <label for="nonMember" class="inline-label" >No</label>
			                    <input type="radio" id="nonMember" name="membership" required>
			                </span>
		                </li>
		                <li>
												<button onclick="submit()">Schedule Session(s)</button>
		            	</li>
								</ul>
			</div>
			<div class="summary-column">
				<h3>Selected Session Times</h3>
				<ul>
					<li>11/01 5:00PM</li>
					<li>11/03 5:00PM</li>
					<li>11/10 5:00PM</li>
					<li>11/15 5:00PM</li>
					<li>11/20 5:00PM</li>
					<li>11/25 5:00PM</li>
					<li>11/26 5:00PM</li>
				</ul>
			</div>
		</div>
	</div>
    <div class="footer">	
	<ul id="footerinfo">
		<h4>Info</h4>
		<a href="about.html">About Us</a><br>
		<a href="contact.html">Contact Us</a><br>
    </ul>    
	<ul id="footersocial">
		<h4>Social</h4>
        <div class="social"><a class="social" id="facebook" href="https://www.facebook.com/eauclairefigureskate" target="_blank"></a></div>
        <div class="social"><a class="social" id="instagram" href="https://www.instagram.com/ec.figureskaters/" target="_blank"></a></div>
    </ul>    
  </div>
	 <script src="js/summary.js"></script>
	 <script>
		 let params = new URLSearchParams(window.location.search);
		 function submit() {
			fetch("http://199.223.235.232:8080/IceServer/Register", {
        method: 'POST',
        body: JSON.stringify({
          "member": {
						"usfsn": document.getElementById("usfsaId").value,
						"fname": document.getElementById("fName").value,
						"lname": document.getElementById("lName").value,
						"email": document.getElementById("email").value,
						"phone": document.getElementById("phone").value,
						"coach": document.getElementById("coach").value,
						"isMember": document.getElementById("clubMember").checked
					},
          "sessions": params.getAll("session")
        }),
        headers: {
          'Content-Type': 'text/plain'
        }
      }).then(function(response) {
        console.log(response.status);
				if (response.status == 200) {
					alert("Registration successful.");
				} else {
					alert("Registration failed.");
				}
      });
			return false;
		}
	 </script>
 </body>
 </html>